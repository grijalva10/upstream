@import "tailwindcss";
@import "tw-animate-css";
@plugin "@tailwindcss/typography";

@custom-variant dark (&:is(.dark *));

/* ============================================
   UPSTREAM DESIGN SYSTEM
   Based on design-system-prd.md
   Inspired by Vercel Geist + Dieter Rams
   ============================================ */

@theme inline {
  /* Core semantic colors */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* Design system semantic colors */
  --color-bg-primary: var(--bg-primary);
  --color-bg-secondary: var(--bg-secondary);
  --color-bg-tertiary: var(--bg-tertiary);
  --color-bg-elevated: var(--bg-elevated);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);
  --color-border-default: var(--border-default);
  --color-border-subtle: var(--border-subtle);

  /* Accent colors */
  --color-accent-blue: var(--accent-blue);
  --color-accent-green: var(--accent-green);
  --color-accent-red: var(--accent-red);
  --color-accent-orange: var(--accent-orange);

  /* Blue scale */
  --color-blue-100: var(--blue-100);
  --color-blue-200: var(--blue-200);
  --color-blue-300: var(--blue-300);
  --color-blue-400: var(--blue-400);
  --color-blue-500: var(--blue-500);
  --color-blue-600: var(--blue-600);
  --color-blue-700: var(--blue-700);
  --color-blue-800: var(--blue-800);

  /* Green scale */
  --color-green-100: var(--green-100);
  --color-green-200: var(--green-200);
  --color-green-300: var(--green-300);
  --color-green-400: var(--green-400);
  --color-green-500: var(--green-500);
  --color-green-600: var(--green-600);
  --color-green-700: var(--green-700);
  --color-green-800: var(--green-800);

  /* Red scale */
  --color-red-100: var(--red-100);
  --color-red-200: var(--red-200);
  --color-red-300: var(--red-300);
  --color-red-400: var(--red-400);
  --color-red-500: var(--red-500);
  --color-red-600: var(--red-600);
  --color-red-700: var(--red-700);
  --color-red-800: var(--red-800);

  /* Orange scale */
  --color-orange-100: var(--orange-100);
  --color-orange-200: var(--orange-200);
  --color-orange-300: var(--orange-300);
  --color-orange-400: var(--orange-400);
  --color-orange-500: var(--orange-500);
  --color-orange-600: var(--orange-600);
  --color-orange-700: var(--orange-700);
  --color-orange-800: var(--orange-800);

  /* Sidebar colors */
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* Chart colors */
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  /* Typography */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* Border radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-2xl: 20px;
  --radius-3xl: 24px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.08);
  --shadow-dropdown: 0 4px 12px rgba(0, 0, 0, 0.12);
  --shadow-drawer: 0 8px 24px rgba(0, 0, 0, 0.16);
  --shadow-modal: 0 16px 48px rgba(0, 0, 0, 0.20);

  /* Spacing scale (Group 1: Component spacing) */
  --spacing-1: 4px;
  --spacing-2: 8px;
  --spacing-3: 16px;
  --spacing-4: 24px;
  --spacing-5: 32px;
  /* Spacing scale (Group 2: Section spacing) */
  --spacing-6: 40px;
  --spacing-7: 48px;
  --spacing-8: 56px;
  --spacing-9: 64px;
  --spacing-10: 80px;
  --spacing-11: 96px;
}

/* ============================================
   LIGHT MODE (Default)
   ============================================ */
:root {
  /* Legacy shadcn tokens (keep for compatibility) */
  --radius: 0.5rem;
  --background: #ffffff;
  --foreground: #000000;
  --card: #ffffff;
  --card-foreground: #000000;
  --popover: #ffffff;
  --popover-foreground: #000000;
  --primary: #000000;
  --primary-foreground: #ffffff;
  --secondary: #f7f7f7;
  --secondary-foreground: #000000;
  --muted: #f7f7f7;
  --muted-foreground: #666666;
  --accent: #f7f7f7;
  --accent-foreground: #000000;
  --destructive: #d50b0b;
  --border: #e5e5e5;
  --input: #e5e5e5;
  --ring: #0568f6;

  /* Design system semantic tokens */
  --bg-primary: #ffffff;
  --bg-secondary: #f7f7f7;
  --bg-tertiary: #e5e5e5;
  --bg-elevated: #ffffff;
  --text-primary: #000000;
  --text-secondary: #666666;
  --text-muted: #999999;
  --border-default: #e5e5e5;
  --border-subtle: #f0f0f0;

  /* Accent colors */
  --accent-blue: #0568f6;
  --accent-green: #288034;
  --accent-red: #d50b0b;
  --accent-orange: #d97706;

  /* Blue scale */
  --blue-100: #e6f0fe;
  --blue-200: #bdd6fc;
  --blue-300: #8abbfa;
  --blue-400: #4d93fc;
  --blue-500: #0568f6;
  --blue-600: #0451c5;
  --blue-700: #033d94;
  --blue-800: #022963;

  /* Green scale */
  --green-100: #e8f5ea;
  --green-200: #c0e4c6;
  --green-300: #8dcd98;
  --green-400: #4db35f;
  --green-500: #288034;
  --green-600: #206629;
  --green-700: #184d1f;
  --green-800: #103314;

  /* Red scale */
  --red-100: #fdeaea;
  --red-200: #f9c5c5;
  --red-300: #f39393;
  --red-400: #e94f4f;
  --red-500: #d50b0b;
  --red-600: #aa0909;
  --red-700: #800707;
  --red-800: #550404;

  /* Orange scale */
  --orange-100: #fef3e6;
  --orange-200: #fddbb3;
  --orange-300: #fbbf73;
  --orange-400: #f5a733;
  --orange-500: #d97706;
  --orange-600: #ae5f05;
  --orange-700: #824704;
  --orange-800: #573003;

  /* Chart colors */
  --chart-1: #0568f6;
  --chart-2: #288034;
  --chart-3: #d97706;
  --chart-4: #8b5cf6;
  --chart-5: #ec4899;

  /* Sidebar */
  --sidebar: #ffffff;
  --sidebar-foreground: #000000;
  --sidebar-primary: #000000;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #f7f7f7;
  --sidebar-accent-foreground: #000000;
  --sidebar-border: #e5e5e5;
  --sidebar-ring: #0568f6;
}

/* ============================================
   DARK MODE
   ============================================ */
.dark {
  /* Legacy shadcn tokens */
  --background: #000000;
  --foreground: #ffffff;
  --card: #191919;
  --card-foreground: #ffffff;
  --popover: #191919;
  --popover-foreground: #ffffff;
  --primary: #ffffff;
  --primary-foreground: #000000;
  --secondary: #191919;
  --secondary-foreground: #ffffff;
  --muted: #191919;
  --muted-foreground: #a3a3a3;
  --accent: #191919;
  --accent-foreground: #ffffff;
  --destructive: #ff5c5c;
  --border: #363636;
  --input: #363636;
  --ring: #4d93fc;

  /* Design system semantic tokens */
  --bg-primary: #000000;
  --bg-secondary: #191919;
  --bg-tertiary: #363636;
  --bg-elevated: #191919;
  --text-primary: #ffffff;
  --text-secondary: #a3a3a3;
  --text-muted: #707070;
  --border-default: #363636;
  --border-subtle: #262626;

  /* Accent colors (adjusted for dark mode) */
  --accent-blue: #4d93fc;
  --accent-green: #3cc14e;
  --accent-red: #ff5c5c;
  --accent-orange: #f5a733;

  /* Blue scale (adjusted for dark) */
  --blue-100: #0a1929;
  --blue-200: #0f2744;
  --blue-300: #163a66;
  --blue-400: #1e5199;
  --blue-500: #4d93fc;
  --blue-600: #6ba6fd;
  --blue-700: #8eb9fd;
  --blue-800: #b5d1fe;

  /* Green scale (adjusted for dark) */
  --green-100: #0a1a0d;
  --green-200: #122b17;
  --green-300: #1c4223;
  --green-400: #285f32;
  --green-500: #3cc14e;
  --green-600: #5dce6d;
  --green-700: #84da90;
  --green-800: #b0e7b8;

  /* Red scale (adjusted for dark) */
  --red-100: #2a0a0a;
  --red-200: #451010;
  --red-300: #661818;
  --red-400: #992323;
  --red-500: #ff5c5c;
  --red-600: #ff7a7a;
  --red-700: #ff9d9d;
  --red-800: #ffc4c4;

  /* Orange scale (adjusted for dark) */
  --orange-100: #1f1408;
  --orange-200: #36220d;
  --orange-300: #523414;
  --orange-400: #744a1c;
  --orange-500: #f5a733;
  --orange-600: #f7b654;
  --orange-700: #f9c77a;
  --orange-800: #fbdaa6;

  /* Chart colors (adjusted for dark) */
  --chart-1: #4d93fc;
  --chart-2: #3cc14e;
  --chart-3: #f5a733;
  --chart-4: #a78bfa;
  --chart-5: #f472b6;

  /* Sidebar */
  --sidebar: #000000;
  --sidebar-foreground: #ffffff;
  --sidebar-primary: #4d93fc;
  --sidebar-primary-foreground: #ffffff;
  --sidebar-accent: #191919;
  --sidebar-accent-foreground: #ffffff;
  --sidebar-border: #363636;
  --sidebar-ring: #4d93fc;

  /* Shadows for dark mode */
  --shadow-card: 0 1px 3px rgba(0, 0, 0, 0.24);
  --shadow-dropdown: 0 4px 12px rgba(0, 0, 0, 0.32);
  --shadow-drawer: 0 8px 24px rgba(0, 0, 0, 0.40);
  --shadow-modal: 0 16px 48px rgba(0, 0, 0, 0.48);
}

/* ============================================
   BASE STYLES
   ============================================ */
@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Tabular numbers for data */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }
}

/* ============================================
   TYPOGRAPHY SCALE
   Based on design-system-prd.md
   ============================================ */
@layer utilities {
  /* Display sizes */
  .text-display-2xl {
    font-size: 72px;
    line-height: 1.0;
    font-weight: 600;
    letter-spacing: -0.02em;
  }

  .text-display-xl {
    font-size: 60px;
    line-height: 1.0;
    font-weight: 600;
    letter-spacing: -0.02em;
  }

  .text-display-lg {
    font-size: 48px;
    line-height: 1.1;
    font-weight: 600;
    letter-spacing: -0.02em;
  }

  /* Heading sizes */
  .text-heading-xl {
    font-size: 36px;
    line-height: 1.2;
    font-weight: 600;
    letter-spacing: -0.01em;
  }

  .text-heading-lg {
    font-size: 30px;
    line-height: 1.3;
    font-weight: 600;
    letter-spacing: -0.01em;
  }

  .text-heading-md {
    font-size: 24px;
    line-height: 1.3;
    font-weight: 600;
  }

  .text-heading-sm {
    font-size: 20px;
    line-height: 1.4;
    font-weight: 600;
  }

  /* Body sizes */
  .text-body-lg {
    font-size: 18px;
    line-height: 1.5;
    font-weight: 400;
  }

  .text-body-md {
    font-size: 16px;
    line-height: 1.5;
    font-weight: 400;
  }

  .text-body-sm {
    font-size: 14px;
    line-height: 1.5;
    font-weight: 400;
  }

  /* Caption and overline */
  .text-caption {
    font-size: 12px;
    line-height: 1.4;
    font-weight: 400;
  }

  .text-overline {
    font-size: 11px;
    line-height: 1.3;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  /* Shadow utilities */
  .shadow-card {
    box-shadow: var(--shadow-card);
  }

  .shadow-dropdown {
    box-shadow: var(--shadow-dropdown);
  }

  .shadow-drawer {
    box-shadow: var(--shadow-drawer);
  }

  .shadow-modal {
    box-shadow: var(--shadow-modal);
  }
}

/* ============================================
   COMPONENT TOKENS
   ============================================ */
@layer components {
  /* Focus ring for accessibility */
  .focus-ring {
    @apply outline-none ring-2 ring-accent-blue ring-offset-2 ring-offset-background;
  }

  /* Text colors using design system */
  .text-ds-primary {
    color: var(--text-primary);
  }

  .text-ds-secondary {
    color: var(--text-secondary);
  }

  .text-ds-muted {
    color: var(--text-muted);
  }

  /* Background colors using design system */
  .bg-ds-primary {
    background-color: var(--bg-primary);
  }

  .bg-ds-secondary {
    background-color: var(--bg-secondary);
  }

  .bg-ds-tertiary {
    background-color: var(--bg-tertiary);
  }

  .bg-ds-elevated {
    background-color: var(--bg-elevated);
  }

  /* Border colors using design system */
  .border-ds-default {
    border-color: var(--border-default);
  }

  .border-ds-subtle {
    border-color: var(--border-subtle);
  }

  /* Accent color utilities */
  .text-accent-blue {
    color: var(--accent-blue);
  }

  .text-accent-green {
    color: var(--accent-green);
  }

  .text-accent-red {
    color: var(--accent-red);
  }

  .text-accent-orange {
    color: var(--accent-orange);
  }

  .bg-accent-blue {
    background-color: var(--accent-blue);
  }

  .bg-accent-green {
    background-color: var(--accent-green);
  }

  .bg-accent-red {
    background-color: var(--accent-red);
  }

  .bg-accent-orange {
    background-color: var(--accent-orange);
  }
}
